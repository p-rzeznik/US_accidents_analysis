```{r}
library('ProjectTemplate')
load.project()


```

```{r}
colnames(US_Accidents)

```

Propozycja - Zagregować dane do poziomu county zliczając liczbę wypadków. Wziąć średnie/procentowe/kategoryczne wartości dla kolumn dla danego county.


Do wyrzucenia: "Start_Time", "End_Time", "Start_Lat", "Start_Lng", "End_Lat", "End_Lng", "Description", 
                "Number", "Street", "City", "Zipcode", "Country", "Timezone", "Airport_Code", 
                "Weather_Timestamp", "Civil_Twilight", "Nautical_Twilight", "Astronomical_Twilight"
                
Do uśrednienia: "Severity", "Distance.mi.", "Temperature.F.", "Wind_Chill.F.", "Humidity...", "Pressure.in.",
                 "Visibility.mi.",  "Wind_Speed.mph.", "Precipitation.in."

Do zamiany na procenty: "Side", "Weather_Condition",  "Amenity", "Bump", "Crossing", "Give_Way",
                         "Junction", "No_Exit", "Railway", "Roundabout", "Station", "Stop", 
                         "Traffic_Calming", "Traffic_Signal", "Turning_Loop", "Sunrise_Sunset"

Do przemyślenia: "Wind_Direction"

Lub można podzielić kolumny jeszcze na dzień i noc na podstawie "Sunrise_Sunset"

```{r}
library(dplyr)

grouped = US_Accidents %>% group_by(State, County)
summarised = grouped %>% summarise(
                        mean_severity=mean(Severity, na.rm=TRUE),
                        mean_distance=mean(Distance.mi., na.rm=TRUE),
                        mean_temperature=mean(Temperature.F., na.rm=TRUE),
                        mean_wind_chill=mean(Wind_Chill.F., na.rm=TRUE),
                        mean_humidity=mean(Humidity..., na.rm=TRUE),
                        mean_pressure=mean(Pressure.in., na.rm=TRUE),
                        mean_visibility=mean(Visibility.mi., na.rm=TRUE),
                        mean_wind_speed=mean(Wind_Speed.mph., na.rm=TRUE),
                        mean_precipitation=mean(Precipitation.in., na.rm=TRUE),
                        # R_side_percent=add_count(Side), jak to zrobić?
                        .groups = 'drop')
summarised
```

```{r}
print(head(summarised))
```

```{r}

```